

<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" dir="ltr" lang="en-US">
<head profile="http://gmpg.org/xfn/11">
	<meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
	<title>A Simple Audio Visualizer with Quartz Composer || Anthony Mattox - Interaction Design & Digital Art</title>
	<link type="text/css" rel="stylesheet" href="wp-content/themes/p10/style.css" />
	
	<!-- feeds -->
    <link rel="alternate" type="application/rss+xml" title="RSS 2.0" href="feed" />
    <link rel="alternate" type="text/xml" title="RSS .92" href="feed/rss" />
    <link rel="alternate" type="application/atom+xml" title="Atom 0.3" href="feed/atom" />
    <link rel="pingback" href="xmlrpc.php" />
	<link rel="icon" type="image/png" href="wp-content/themes/p10/favicon.png" />
	
		<!-- post specific styles -->
		<style>
		body{
			background:;
		}
	</style>
			<!-- / styles -->
	
			
<!-- processing embed scripts -->
<script src="wp-content/plugins/wordpress-processing-embed/data/pe_deployJava.js"></script>

				
	<script type="text/javascript">//<![CDATA[
	// Google Analytics for WordPress by Yoast v4.0.12 | http://yoast.com/wordpress/google-analytics/
	var _gaq = _gaq || [];
	_gaq.push(['_setAccount','UA-6086323-1']);
</script><script src="wp-content/plugins/google-analytics-for-wordpress/custom_se_async.js" type="text/javascript"></script>
<script type="text/javascript">	_gaq.push(['_trackPageview']);
	(function() {
		var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
		ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
		var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
	})();
	//]]></script>
<script type='text/javascript' src='http://ajax.googleapis.com/ajax/libs/swfobject/2.2/swfobject.js?ver=2.2'></script>
<script type='text/javascript' src='http://anthonymattox.com/wp-includes/js/jquery/jquery.js?ver=1.7.2'></script>

<script type="text/javascript" charset="utf-8">

	/**
	 * Courtesy of Kimili Flash Embed - Version 2.1.5
	 * by Michael Bester - http://kimili.com
	 */

	(function(){
		try {
			// Disabling SWFObject's Autohide feature
			if (typeof swfobject.switchOffAutoHideShow === "function") {
				swfobject.switchOffAutoHideShow();
			}
		} catch(e) {}
	})();
</script>
<link rel='prev' title='3d Studio Max &amp; Processing' href='index.html%3Fp=617.html' />
<link rel='next' title='WikiWeb Version 2' href='index.html%3Fp=640.html' />
<link rel='canonical' href='index.html%3Fp=626.html' />
<link rel='shortlink' href='index.html%3Fp=626.html' />

<!-- All in One SEO Pack 1.6.13.2 by Michael Torbert of Semper Fi Web Design[303,361] -->
<meta name="description" content="Quartz composer is a great tool for audio visualization for two main reasons. First, it renders incredibly quickly and smoothly. Unlike processing, which i" />
<meta name="keywords" content="quartz composer, audio visualizer, sound, audio spectrum, scripting, visual scripting, spectrometer,audio spectrum,audio visualizer,scripting,sound,visual scripting,tutorial" />
<!-- /all in one seo pack -->
<script type="text/javascript" src="wp-content/plugins/audio-player/assets/audio-player.js%3Fver=2.0.4.1"></script>
<script type="text/javascript">AudioPlayer.setup("http://anthonymattox.com/wp-content/plugins/audio-player/assets/player.swf?ver=2.0.4.1", {width:"100%",animation:"no",encode:"yes",initialvolume:"60",remaining:"no",noinfo:"no",buffer:"5",checkpolicy:"no",rtl:"no",bg:"333333",text:"ffffff",leftbg:"333333",lefticon:"a3a3a3",volslider:"ffffff",voltrack:"525252",rightbg:"d9d9d9",rightbghover:"FF2200",righticon:"333333",righticonhover:"FFFFFF",track:"000000",loader:"FF2200",border:"000000",tracker:"666666",skip:"666666",pagebg:"FFFFFF",transparentpagebg:"yes"});</script>
    	<link rel='archives' title='October 2011' href='2011/10.html' />
	<link rel='archives' title='September 2011' href='2011/09.html' />
	<link rel='archives' title='July 2011' href='2011/07.html' />
	<link rel='archives' title='June 2011' href='2011/06.html' />
	<link rel='archives' title='May 2011' href='2011/05.html' />
	<link rel='archives' title='January 2011' href='2011/01.html' />
	<link rel='archives' title='December 2010' href='2010/12.html' />
	<link rel='archives' title='November 2010' href='2010/11.html' />
	<link rel='archives' title='October 2010' href='2010/10.html' />
	<link rel='archives' title='September 2010' href='2010/09.html' />
	<link rel='archives' title='June 2010' href='2010/06.html' />
	<link rel='archives' title='May 2010' href='2010/05.html' />
	<link rel='archives' title='April 2010' href='2010/04.html' />
	<link rel='archives' title='March 2010' href='2010/03.html' />
	<link rel='archives' title='February 2010' href='2010/02.html' />
	<link rel='archives' title='January 2010' href='2010/01.html' />
	<link rel='archives' title='December 2009' href='2009/12.html' />
	<link rel='archives' title='November 2009' href='2009/11.html' />
	<link rel='archives' title='October 2009' href='2009/10.html' />
	<link rel='archives' title='September 2009' href='2009/09.html' />
	<link rel='archives' title='August 2009' href='2009/08.html' />
	<link rel='archives' title='May 2009' href='2009/05.html' />
	<link rel='archives' title='April 2009' href='2009/04.html' />
	<link rel='archives' title='March 2009' href='2009/03.html' />
	<link rel='archives' title='February 2009' href='2009/02/index.html' />
	<link rel='archives' title='January 2009' href='2009/01/index.html' />
	<link rel='archives' title='December 2008' href='2008/12/index.html' />
	<link rel='archives' title='November 2008' href='2008/11/index.html' />
	<link rel='archives' title='October 2008' href='2008/10.html' />
	<link rel='archives' title='June 2008' href='2008/06.html' />
	<link rel='archives' title='August 2007' href='2007/08.html' />
	<link rel='archives' title='June 2007' href='2007/06.html' />
	
	<!-- <script type="text/javascript" language="javascript1.5" src="http://anthonymattox.com/wp-content/themes/p10/scripts/jquery-ui-1.8.5.custom.min.js"></script>-->
	<script type="text/javascript" language="javascript1.5" src="wp-content/themes/p10/scripts/jquery.fancybox-1.3.1.pack.js"></script>
	<script type="text/javascript" language="javascript1.5" src="wp-content/themes/p10/scripts/jquery.ui.effects.js"></script>
	<script type="text/javascript" language="javascript1.5" src="wp-content/themes/p10/scripts/am_p10.js"></script>
</head>
<body>
	<div id="container" class="blog">
		<div id="head">
			<div id="mainhead">
				<h1><a href="index.html">Anthony Mattox <span>Interaction Design + Digital Art</span></a></h1>
				<ul id="nav">
					<li class="page_item page-item-27"><a href="index.html"><span>Home</span></a></li>
<li class="page_item page-item-746"><a href="work/index.html"><span>Work</span></a></li>
<li class="page_item page-item-398 current_page_parent"><a href="blog/index.html"><span>Blog</span></a></li>
<li class="page_item page-item-2"><a href="about.html"><span>About</span></a></li>
				</ul>
			</div>
			
						
					</div><div class="body" id="single">
	<div class="neck">
	</div>
		<div class="post">
		<div class="meta">
		  <div class="metacontent">
  			<h2><a href="index.html%3Fp=626.html">A Simple Audio Visualizer with Quartz Composer</a></h2>
  			<div>
  				<p class="date">12-08-08</p>
  				<p class="tags">Tagged: <a href="tag/audio-spectrum.html" rel="tag">audio spectrum</a>, <a href="tag/audio-visualizer.html" rel="tag">audio visualizer</a>, <a href="tag/quartz-composer.html" rel="tag">quartz composer</a>, <a href="tag/scripting.html" rel="tag">scripting</a>, <a href="tag/sound/index.html" rel="tag">sound</a>, <a href="tag/visual-scripting.html" rel="tag">visual scripting</a><br /></p>
  				  			</div>
  						</div>
		</div>
		<div class="content">
			<p>Quartz composer is a great tool for audio visualization for two main reasons. First, it renders incredibly quickly and smoothly. Unlike processing, which i usually prefer for its flexibility, which would quickly start dropping frames if you try to create many of the effects Quartz Composer has. The second thing that makes it great for live performances is the fact that the script can be edited live while it is rendering. Most environments would require the script to be saved, recompiled, restarted to make any changes. This is also made easier by the very clear visual environment.</p>
<p>The drawback of course is there are only a limited number of predefined functions which can be used, but there is still some room for creativity. The program is still very new, so I have some hope for its future. Another drawback is it&#8217;s only for mac and only the newest operating systems (10.4, 10.5) at that, but if you have a mac, you&#8217;ve already got it. Check out my <a href="http://www.anthonymattox.com/?p=436">previous post</a> on QC for more info on that.<span id="more-626"></span></p>
<p>In any case, let&#8217;s start with something simple.</p>
<p>For the most basic Audio Visualizer you will need just four or five patches. Like most QC compositions start with a clear patch. This will render a black background (or whatever color you choose in the settings or pass into the patch). To get audio create an &#8220;Audio Input&#8221; patch. To add patches open the patch creator window and either find what you need in the list or type it into the search bar. The last thing is some object to effect with this input, and any other patches to scale or interpret the audio signal into somehting more usable.</p>
<p>I created a sphere with the radius controlled by the audio. The math function scales the audio signal to a size which looks better, but is not necessary.</p>
<p><img src="http://www.anthonymattox.com/wp-content/uploads/2008/12/quartz_composer_simple_audio.gif" alt="quartz composer simple audio visualizer" title="quartz composer simple audio visualizer" class="alignnone size-medium" /></p>
<p>Notice the yellow numbers on the rendering patches. This indicated the layer. 1 is rendered first, then 2, and so on, so the clear patch should usually be on layer 1. The result of this patch is a white circle pulsing on a black background. Without any lighting set the sphere just renders a flat color.</p>
<p>So that&#8217;s all well and good, but only one object is moving with the peak audio. Not so exciting. The Audio input patch also has another output  which breaks the audio down into a series of frequency bands. This output has to be dealt with a little differently. The input has 16 band. Want to change that? You can&#8217;t yet. I&#8217;m sorry too.</p>
<p>From the spectrum output connect the audio input to a &#8220;Structure Index Member&#8221; patch. Change the index within the patch parameters or connect a number input to select which of the bands will be output. The output from that can then be used to control something else as usual. You might have noticed that this might take a lot of patches to get all the different spectrum bands. The result might look a little like this.</p>
<p><img src="http://www.anthonymattox.com/wp-content/uploads/2008/12/quartz_composer_complex_audio.gif" alt="quartz composer complex audio visualizer" " title="quartz composer complex audio visualizer" class="alignnone size-medium" /></p>
<p><img src="http://www.anthonymattox.com/wp-content/uploads/2008/12/quartz_composer_audio_2_root.gif" alt="" title="quartz_composer_audio_2_root" width="181" height="176" class="right" />That will get the job done, but it&#8217;s easier to use the Iterator patch. This acts like a for loop, essentially &#8220;for each value in this structure (the audio spectrum), do this.&#8221; The &#8220;this&#8221; could be whatever you want, I&#8217;ll stick with a sphere to keep things simple. Create a clear patch and an iterator. The Iterator is a Macro Patch, meaning it contains other patches within it. To view it&#8217;s contents double click on it. There is a breadcrumb trail in the upper right of the editor window so you can see you are within a Macro Patch. Within the Iterator, recreate the first example, but without the clear patch. Also add a Structure Index Member and an Iterator Variables patch. This will tell it to get the next value each time the iterator loops. Otherwise it would use the same value each time. I also modify the x-position of each sphere based on a scaled interpretation of the Iteration Variable. Otherwise they would all overlap. </p>
<p><img src="http://www.anthonymattox.com/wp-content/uploads/2008/12/quartz_composer_audio_2_iterator.gif" alt="" title="quartz_composer_audio_2_iterator" class="alignnone size-medium" /></p>
<p>This is the most basic structure to create an audio visualizer with Quartz Composer. By using the data to control different parameters of different objects and adding filters and other effects a lot can be achieved. </p>
		</div>
				<br class="clear" />
	</div>
		
	<div id="comments">
		
			<h3><span>2 comments</span></h3>
		
				
		<ul id="commentlist">
				<li class="comment even thread-even depth-1">
		<div class="commentmeta">
			<h5><a href="http://blog.insightvr.com">john harrison</a></h5>
			<div class="date">12.17.08</div>
			<div class="reply">
							</div>
		</div>

		<div class="commentbody">
						<p>can you make quartz composer visualizers for iTunes under OS X 10.4?  I thought that you had to have 10.5 to do the visualizers.</p>
		</div>
		<br class="clear" />

	</li>
	<li class="comment byuser comment-author-admin bypostauthor odd alt thread-odd thread-alt depth-1">
		<div class="commentmeta">
			<h5><a href="http://ww.anthonymattox.com">tony</a></h5>
			<div class="date">12.17.08</div>
			<div class="reply">
							</div>
		</div>

		<div class="commentbody">
						<p>You can certainly use the audio input, although it has a few less spectrum bands. 10.5 has a visualizer template. I have not yet tried creating a visualizer for iTunes with with the new version, but I tried and was unable to do it with 10.4. For live visualizations within quartz composer or exported as quicktime files, either version works just fine.</p>
		</div>
		<br class="clear" />

	</li>
		</ul>
		
			
	</div>	</div>
    <div id="foot">
      <div id="footcontent">
        <div id="cc">
          <a href="http://creativecommons.org/licenses/by-nc/3.0/"></a>
        </div>
        <div id="links">
          <a href="http://twitter.com/ahmattox" id="foot-twitter">@ahmattox</a>
          <a href="http://friendsoftheweb.com/" id="foot-ftw">Friends of The Web</a>
          <a href="http://madewithloveinbaltimore.org" id="foot-heart">Made with &hearts; in Baltimore</a>
        </div>
        <br class="clear" />
      </div>
    </div>
  </div><!-- / container -->
  </body>
</html>