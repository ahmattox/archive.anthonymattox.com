

<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" dir="ltr" lang="en-US">
<head profile="http://gmpg.org/xfn/11">
	<meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
	<title>Controlling Quartz Composer with Pure Data || Anthony Mattox - Interaction Design & Digital Art</title>
	<link type="text/css" rel="stylesheet" href="wp-content/themes/p10/style.css" />
	
	<!-- feeds -->
    <link rel="alternate" type="application/rss+xml" title="RSS 2.0" href="feed" />
    <link rel="alternate" type="text/xml" title="RSS .92" href="feed/rss" />
    <link rel="alternate" type="application/atom+xml" title="Atom 0.3" href="feed/atom" />
    <link rel="pingback" href="xmlrpc.php" />
	<link rel="icon" type="image/png" href="wp-content/themes/p10/favicon.png" />
	
		<!-- post specific styles -->
		<style>
		body{
			background:;
		}
	</style>
			<!-- / styles -->
	
			
<!-- processing embed scripts -->
<script src="wp-content/plugins/wordpress-processing-embed/data/pe_deployJava.js"></script>

				
	<script type="text/javascript">//<![CDATA[
	// Google Analytics for WordPress by Yoast v4.0.12 | http://yoast.com/wordpress/google-analytics/
	var _gaq = _gaq || [];
	_gaq.push(['_setAccount','UA-6086323-1']);
</script><script src="wp-content/plugins/google-analytics-for-wordpress/custom_se_async.js" type="text/javascript"></script>
<script type="text/javascript">	_gaq.push(['_trackPageview']);
	(function() {
		var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
		ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
		var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
	})();
	//]]></script>
<script type='text/javascript' src='http://ajax.googleapis.com/ajax/libs/swfobject/2.2/swfobject.js?ver=2.2'></script>
<script type='text/javascript' src='http://anthonymattox.com/wp-includes/js/jquery/jquery.js?ver=1.7.2'></script>

<script type="text/javascript" charset="utf-8">

	/**
	 * Courtesy of Kimili Flash Embed - Version 2.1.5
	 * by Michael Bester - http://kimili.com
	 */

	(function(){
		try {
			// Disabling SWFObject's Autohide feature
			if (typeof swfobject.switchOffAutoHideShow === "function") {
				swfobject.switchOffAutoHideShow();
			}
		} catch(e) {}
	})();
</script>
<link rel='prev' title='The List List' href='index.html%3Fp=2190.html' />
<link rel='next' title='SSGE' href='index.html%3Fp=2231.html' />
<link rel='canonical' href='index.html%3Fp=2209.html' />
<link rel='shortlink' href='index.html%3Fp=2209.html' />

<!-- All in One SEO Pack 1.6.13.2 by Michael Torbert of Semper Fi Web Design[303,361] -->
<meta name="description" content="Recently I performed with a musical group, creating generative imagery as a backdrop. I decided try using quartz composer again, primarily because it renders" />
<meta name="keywords" content="midi,pure data,quartz,quartz composer,article,tutorial" />
<!-- /all in one seo pack -->
<script type="text/javascript" src="wp-content/plugins/audio-player/assets/audio-player.js%3Fver=2.0.4.1"></script>
<script type="text/javascript">AudioPlayer.setup("http://anthonymattox.com/wp-content/plugins/audio-player/assets/player.swf?ver=2.0.4.1", {width:"100%",animation:"no",encode:"yes",initialvolume:"60",remaining:"no",noinfo:"no",buffer:"5",checkpolicy:"no",rtl:"no",bg:"333333",text:"ffffff",leftbg:"333333",lefticon:"a3a3a3",volslider:"ffffff",voltrack:"525252",rightbg:"d9d9d9",rightbghover:"FF2200",righticon:"333333",righticonhover:"FFFFFF",track:"000000",loader:"FF2200",border:"000000",tracker:"666666",skip:"666666",pagebg:"FFFFFF",transparentpagebg:"yes"});</script>
    	<link rel='archives' title='October 2011' href='2011/10.html' />
	<link rel='archives' title='September 2011' href='2011/09.html' />
	<link rel='archives' title='July 2011' href='2011/07.html' />
	<link rel='archives' title='June 2011' href='2011/06.html' />
	<link rel='archives' title='May 2011' href='2011/05.html' />
	<link rel='archives' title='January 2011' href='2011/01.html' />
	<link rel='archives' title='December 2010' href='2010/12.html' />
	<link rel='archives' title='November 2010' href='2010/11.html' />
	<link rel='archives' title='October 2010' href='2010/10.html' />
	<link rel='archives' title='September 2010' href='2010/09.html' />
	<link rel='archives' title='June 2010' href='2010/06.html' />
	<link rel='archives' title='May 2010' href='2010/05.html' />
	<link rel='archives' title='April 2010' href='2010/04.html' />
	<link rel='archives' title='March 2010' href='2010/03.html' />
	<link rel='archives' title='February 2010' href='2010/02.html' />
	<link rel='archives' title='January 2010' href='2010/01.html' />
	<link rel='archives' title='December 2009' href='2009/12.html' />
	<link rel='archives' title='November 2009' href='2009/11.html' />
	<link rel='archives' title='October 2009' href='2009/10.html' />
	<link rel='archives' title='September 2009' href='2009/09.html' />
	<link rel='archives' title='August 2009' href='2009/08.html' />
	<link rel='archives' title='May 2009' href='2009/05.html' />
	<link rel='archives' title='April 2009' href='2009/04.html' />
	<link rel='archives' title='March 2009' href='2009/03.html' />
	<link rel='archives' title='February 2009' href='2009/02/index.html' />
	<link rel='archives' title='January 2009' href='2009/01/index.html' />
	<link rel='archives' title='December 2008' href='2008/12/index.html' />
	<link rel='archives' title='November 2008' href='2008/11/index.html' />
	<link rel='archives' title='October 2008' href='2008/10.html' />
	<link rel='archives' title='June 2008' href='2008/06.html' />
	<link rel='archives' title='August 2007' href='2007/08.html' />
	<link rel='archives' title='June 2007' href='2007/06.html' />
	
	<!-- <script type="text/javascript" language="javascript1.5" src="http://anthonymattox.com/wp-content/themes/p10/scripts/jquery-ui-1.8.5.custom.min.js"></script>-->
	<script type="text/javascript" language="javascript1.5" src="wp-content/themes/p10/scripts/jquery.fancybox-1.3.1.pack.js"></script>
	<script type="text/javascript" language="javascript1.5" src="wp-content/themes/p10/scripts/jquery.ui.effects.js"></script>
	<script type="text/javascript" language="javascript1.5" src="wp-content/themes/p10/scripts/am_p10.js"></script>
</head>
<body>
	<div id="container" class="blog">
		<div id="head">
			<div id="mainhead">
				<h1><a href="index.html">Anthony Mattox <span>Interaction Design + Digital Art</span></a></h1>
				<ul id="nav">
					<li class="page_item page-item-27"><a href="index.html"><span>Home</span></a></li>
<li class="page_item page-item-746"><a href="work/index.html"><span>Work</span></a></li>
<li class="page_item page-item-398 current_page_parent"><a href="blog/index.html"><span>Blog</span></a></li>
<li class="page_item page-item-2"><a href="about.html"><span>About</span></a></li>
				</ul>
			</div>
			
						
					</div><div class="body" id="single">
	<div class="neck">
	</div>
		<div class="post">
		<div class="meta">
		  <div class="metacontent">
  			<h2><a href="index.html%3Fp=2209.html">Controlling Quartz Composer with Pure Data</a></h2>
  			<div>
  				<p class="date">06-08-10</p>
  				<p class="tags">Tagged: <a href="tag/midi.html" rel="tag">midi</a>, <a href="tag/pure-data.html" rel="tag">pure data</a>, <a href="tag/quartz.html" rel="tag">quartz</a>, <a href="tag/quartz-composer.html" rel="tag">quartz composer</a><br /></p>
  				  			</div>
  						</div>
		</div>
		<div class="content">
			<p>Recently I performed with a musical group, creating generative imagery as a backdrop. I decided try using quartz composer again, primarily because it renders graphics so quickly and smoothly, but also because it&#8217;s fairly easy to put something together. Unfortunately I ran into a significant roadblock. Quartz composer has no way to control elements while they are running. Although you can completely restructure and modify your script while it is running, there are no interface elements to control simple changes in values. Obviously, this makes QC so much less valuable as a performance tool.</p>
<p>Having already set up most of my script in Quartz Composer I decided to find a way to control it some other way. <a href="http://puredata.info/">Pure Data</a>, an application similar to Quartz but for the production of sound, allows you to easily build interfaces. The data is then sent out of <a href="http://puredata.info/">pure data</a> as midi controller values, sent through a virtual midi channel, and grabbed by Quartz Composer. From there the values can be used for whatever is necessary.</p>
<p>Figuring out the details took a little while and some help from my friend <a href="http://pcm.peabody.jhu.edu/~mscottnelson/">Michael Scoot-Nelson</a>, but the setup is actually quite simple. In <a href="http://puredata.info/">Pure Data</a>, just set up as many controller as you need in the form of sliders or other UI elements.</p>
<p><img src="wp-content/uploads/2010/06/pure-data-controls.png" alt="Pure Data Controls" title="Pure Data Controls" width="400" height="364" class="alignnone size-medium wp-image-2214" /></p>
<p>In this case, I have a number of vertical sliders labelled for a particular application. Above each controller I have an object which receives a bang [r b]. In Pure Data the value from each slider is only sent when the slider is changed. Sending a bang to the value &#8216;b&#8217; pushes all the values down and sends them out to the midi channel. The Sliders should be set to a range from 0-127.</p>
<p>The values from the sliders are plugged into the first inlet of control out objects (ctlout). The ctlout objects also need a controller number and a channel number. These are used to get the value on the other end. The channels can all be set to one, and each slider should have it&#8217;s own controller number.</p>
<p><img src="wp-content/uploads/2010/06/quartz-composer-midi-input.png" alt="Quartz Composer - Midi Input from Pure Data" title="quartz-composer-midi-input" width="450" height="300" class="alignnone size-full wp-image-2408" /></p>
<p>In Quartz composer, a &#8216;Midi Controller Receiver&#8217; object will grab the values sent from Pure Data. Viewing it&#8217;s settings in the inspector, the number of inputs can be changed. Each input is listed with an integer, these are the controller numbers which must be matched to the ones set in pure data. The channels being received can also be changed.</p>
<p>There is one final step to getting everything hooked up. In <a href="http://puredata.info/">Pure Data</a>, under Preferences &gt; Midi Settings must be set to an Midi Channel that Quartz Composer is listening for. On a Mac it&#8217;s easy to set up this channel with the IAC Driver in Audio Midi Setup.</p>
<p><img src="http://www.anthonymattox.com/wp-content/uploads/2010/06/pure-data-pulse-width-modulation.png" alt="Pure Data - Pulse Width Modulation Midi Controller" title="Pure Data Pulse Width Modulation" width="169" height="387" class="alignleft wp-image-2215" /></p>
<p>I also created this little guy here. One element I was controlling in Quartz Composer (a particle generator) could only be set on or off and I needed it to vary smoothly. This creates what is essentially a pulse width modulation simulated analog output. Pressing the &#8216;on&#8217; and &#8216;off&#8217; buttons do just that, and pressing the pwm toggle lets you use the slider to set it more or less on.</p>
<p>Metro&#8217;s turn the output to on every tenth of a second. It is then turned off (ten times a second) after a short delay (less than a tenth of a second). If the slider is at the bottom it turns back off almost immediately, so for the greater part of a second it is off. If the slider is at the top, it takes nearly a tenth of a second to turn back off, so it is mostly on. In the middle it will be on half the time. The result, at least for my particle generator, was the appearance of it&#8217;s rate changing while really it was just turning on and off very quickly. I&#8217;m not sure where else this would be useful, but here it is.</p>
<p>It might be a little hard to read, but if it would be useful to anyone I can upload the pd file somewhere.</p>
		</div>
				<br class="clear" />
	</div>
		
	<div id="comments">
		
			<h3><span>3 comments</span></h3>
		
				
		<ul id="commentlist">
				<li class="comment even thread-even depth-1">
		<div class="commentmeta">
			<h5><a href="index.html%3Fp=2209.html">Glenn Francis Murray</a></h5>
			<div class="date">06.13.10</div>
			<div class="reply">
							</div>
		</div>

		<div class="commentbody">
						<p>You may have just given me the last *push* I needed to learn Pure Data.</p>
<p>By the way, pretty sure you&#8217;d already know (and depending on your setup it may not be useful), but if you&#8217;re running your QuartzComposer visualisations with the composer (rather than in a Cocoa app or similar) you can view published (to root) inputs with the Patch Inspector, as long as your view is in the root pane. </p>
<p>Another trick which I find handy for live tweaking, is that if you have an element, say, LFO, and you want to tweak the amplitude live &#8211; is that if you publish the amplitude value directly, the GUI (patch inspector) will presume that the value can be anything, and just give you a text box with a rotator knob. *However*, if you insert an input splitter on that parameter, then look at the second pane (command+2) of the properties of the input splitter, you can give the element a range. This will display itself in the inspector (if published, or if selected) with a nice little slider, which will map between the values you want from left to right. Just in case you didn&#8217;t know :P</p>
<p>There&#8217;s also an apps root published ports, although I don&#8217;t know how to access them. Some type of Mac voodoo I&#8217;m sure, maybe including foodstuffs like Cocoa &#8211; so using PureData seems like a nice solution. I&#8217;d much rather learn PD than Objective C. </p>
<p>Nice work, btw.</p>
		</div>
		<br class="clear" />

	</li>
	<li class="comment odd alt thread-odd thread-alt depth-1">
		<div class="commentmeta">
			<h5><a href="http://visualrinse.com">Chad</a></h5>
			<div class="date">07.05.10</div>
			<div class="reply">
							</div>
		</div>

		<div class="commentbody">
						<p>With MRMR or MSA Remote, you can build your own UIs and control QC via iPhones/iPads&#8230; pretty cool stuff, you should check it out.</p>
		</div>
		<br class="clear" />

	</li>
	<li class="comment even thread-even depth-1">
		<div class="commentmeta">
			<h5><a href="http://www.georgetoledo.com">George Toledo</a></h5>
			<div class="date">08.07.10</div>
			<div class="reply">
							</div>
		</div>

		<div class="commentbody">
						<p>I want to put this in a way that you can learn from, and you don&#8217;t take it as a criticism:</p>
<p>I think your using Pure Data is really cool, and I&#8217;ve had some similar setups going before. However, you can use QC to make workable faders, buttons, and other GUI elements by hit testing, using sample and holds, and built in patches like signal, watcher, etc. Just because people may not have openly posted much GUI type stuff on the web doesn&#8217;t mean it can&#8217;t be done.</p>
<p>So, you can write a qtz that use GUI interface, and then broadcast to your Graphics player for control, or write it all in one window. Whatever you want really. Not limited at two windows.</p>
<p>For you and your scenario, it may have well been quicker to use pre-written Pure Data stuff that you saw was available, and use MIDI (you could have done it with OSC as well). That&#8217;s one of the flexibilities of Quartz Composer. However, I just want to correct the assertion that QC has no way to control elements while they are running, as it&#8217;s very false. Then you conclude that it makes it less valuable as a performance tool. Really, it&#8217;s more that you were trying to learn QC as you were doing whatever you were working on, and for some reason it didn&#8217;t occur to you how to make faders, buttons, or knobs. </p>
<p>Besides actually making GUI in QC, which is well possible as I described, one can always create a control parameter interface using Xcode if you&#8217;re bundling an app, or just use the built in QC parameter control window.</p>
<p>Particle generators can also slowly ramp up via a number of ways using built in tools.</p>
<p>Not trying to come off as overly vigilant, it&#8217;s just that as someone who knows how to use QC, it&#8217;s clear that your article is based on many incorrect assertions out of the fact that you were attempting to actually learn QC as you were doing this, and are now conveying inaccurate facts.</p>
		</div>
		<br class="clear" />

	</li>
		</ul>
		
			
	</div>	</div>
    <div id="foot">
      <div id="footcontent">
        <div id="cc">
          <a href="http://creativecommons.org/licenses/by-nc/3.0/"></a>
        </div>
        <div id="links">
          <a href="http://twitter.com/ahmattox" id="foot-twitter">@ahmattox</a>
          <a href="http://friendsoftheweb.com/" id="foot-ftw">Friends of The Web</a>
          <a href="http://madewithloveinbaltimore.org" id="foot-heart">Made with &hearts; in Baltimore</a>
        </div>
        <br class="clear" />
      </div>
    </div>
  </div><!-- / container -->
  </body>
</html>