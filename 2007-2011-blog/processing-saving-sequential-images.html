

<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" dir="ltr" lang="en-US">
<head profile="http://gmpg.org/xfn/11">
	<meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
	<title>Processing: Saving Sequential Images || Anthony Mattox - Interaction Design & Digital Art</title>
	<link type="text/css" rel="stylesheet" href="wp-content/themes/p10/style.css" />
	
	<!-- feeds -->
    <link rel="alternate" type="application/rss+xml" title="RSS 2.0" href="feed" />
    <link rel="alternate" type="text/xml" title="RSS .92" href="feed/rss" />
    <link rel="alternate" type="application/atom+xml" title="Atom 0.3" href="feed/atom" />
    <link rel="pingback" href="xmlrpc.php" />
	<link rel="icon" type="image/png" href="wp-content/themes/p10/favicon.png" />
	
		<!-- post specific styles -->
		<style>
		body{
			background:;
		}
	</style>
			<!-- / styles -->
	
			
<!-- processing embed scripts -->
<script src="wp-content/plugins/wordpress-processing-embed/data/pe_deployJava.js"></script>

				
	<script type="text/javascript">//<![CDATA[
	// Google Analytics for WordPress by Yoast v4.0.12 | http://yoast.com/wordpress/google-analytics/
	var _gaq = _gaq || [];
	_gaq.push(['_setAccount','UA-6086323-1']);
</script><script src="wp-content/plugins/google-analytics-for-wordpress/custom_se_async.js" type="text/javascript"></script>
<script type="text/javascript">	_gaq.push(['_trackPageview']);
	(function() {
		var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
		ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
		var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
	})();
	//]]></script>
<script type='text/javascript' src='http://ajax.googleapis.com/ajax/libs/swfobject/2.2/swfobject.js?ver=2.2'></script>
<script type='text/javascript' src='http://anthonymattox.com/wp-includes/js/jquery/jquery.js?ver=1.7.2'></script>

<script type="text/javascript" charset="utf-8">

	/**
	 * Courtesy of Kimili Flash Embed - Version 2.1.5
	 * by Michael Bester - http://kimili.com
	 */

	(function(){
		try {
			// Disabling SWFObject's Autohide feature
			if (typeof swfobject.switchOffAutoHideShow === "function") {
				swfobject.switchOffAutoHideShow();
			}
		} catch(e) {}
	})();
</script>
<link rel='prev' title='Embedding Processing Applets in WordPress' href='index.html%3Fp=1654.html' />
<link rel='next' title='Particle Generated 3d Tree' href='index.html%3Fp=1734.html' />
<link rel='canonical' href='index.html%3Fp=1726.html' />
<link rel='shortlink' href='index.html%3Fp=1726.html' />

<!-- All in One SEO Pack 1.6.13.2 by Michael Torbert of Semper Fi Web Design[303,361] -->
<meta name="description" content="Until recently I've just been saving all of my images out of Processing using a simple saveFrame command and throwing all of my images into one giant folder." />
<meta name="keywords" content="generative,image,noise,processing,rendering,article,tutorial" />
<!-- /all in one seo pack -->
<script type="text/javascript" src="wp-content/plugins/audio-player/assets/audio-player.js%3Fver=2.0.4.1"></script>
<script type="text/javascript">AudioPlayer.setup("http://anthonymattox.com/wp-content/plugins/audio-player/assets/player.swf?ver=2.0.4.1", {width:"100%",animation:"no",encode:"yes",initialvolume:"60",remaining:"no",noinfo:"no",buffer:"5",checkpolicy:"no",rtl:"no",bg:"333333",text:"ffffff",leftbg:"333333",lefticon:"a3a3a3",volslider:"ffffff",voltrack:"525252",rightbg:"d9d9d9",rightbghover:"FF2200",righticon:"333333",righticonhover:"FFFFFF",track:"000000",loader:"FF2200",border:"000000",tracker:"666666",skip:"666666",pagebg:"FFFFFF",transparentpagebg:"yes"});</script>
    	<link rel='archives' title='October 2011' href='2011/10.html' />
	<link rel='archives' title='September 2011' href='2011/09.html' />
	<link rel='archives' title='July 2011' href='2011/07.html' />
	<link rel='archives' title='June 2011' href='2011/06.html' />
	<link rel='archives' title='May 2011' href='2011/05.html' />
	<link rel='archives' title='January 2011' href='2011/01.html' />
	<link rel='archives' title='December 2010' href='2010/12.html' />
	<link rel='archives' title='November 2010' href='2010/11.html' />
	<link rel='archives' title='October 2010' href='2010/10.html' />
	<link rel='archives' title='September 2010' href='2010/09.html' />
	<link rel='archives' title='June 2010' href='2010/06.html' />
	<link rel='archives' title='May 2010' href='2010/05.html' />
	<link rel='archives' title='April 2010' href='2010/04.html' />
	<link rel='archives' title='March 2010' href='2010/03.html' />
	<link rel='archives' title='February 2010' href='2010/02.html' />
	<link rel='archives' title='January 2010' href='2010/01.html' />
	<link rel='archives' title='December 2009' href='2009/12.html' />
	<link rel='archives' title='November 2009' href='2009/11.html' />
	<link rel='archives' title='October 2009' href='2009/10.html' />
	<link rel='archives' title='September 2009' href='2009/09.html' />
	<link rel='archives' title='August 2009' href='2009/08.html' />
	<link rel='archives' title='May 2009' href='2009/05.html' />
	<link rel='archives' title='April 2009' href='2009/04.html' />
	<link rel='archives' title='March 2009' href='2009/03.html' />
	<link rel='archives' title='February 2009' href='2009/02/index.html' />
	<link rel='archives' title='January 2009' href='2009/01/index.html' />
	<link rel='archives' title='December 2008' href='2008/12/index.html' />
	<link rel='archives' title='November 2008' href='2008/11/index.html' />
	<link rel='archives' title='October 2008' href='2008/10.html' />
	<link rel='archives' title='June 2008' href='2008/06.html' />
	<link rel='archives' title='August 2007' href='2007/08.html' />
	<link rel='archives' title='June 2007' href='2007/06.html' />
	
	<!-- <script type="text/javascript" language="javascript1.5" src="http://anthonymattox.com/wp-content/themes/p10/scripts/jquery-ui-1.8.5.custom.min.js"></script>-->
	<script type="text/javascript" language="javascript1.5" src="wp-content/themes/p10/scripts/jquery.fancybox-1.3.1.pack.js"></script>
	<script type="text/javascript" language="javascript1.5" src="wp-content/themes/p10/scripts/jquery.ui.effects.js"></script>
	<script type="text/javascript" language="javascript1.5" src="wp-content/themes/p10/scripts/am_p10.js"></script>
</head>
<body>
	<div id="container" class="blog">
		<div id="head">
			<div id="mainhead">
				<h1><a href="index.html">Anthony Mattox <span>Interaction Design + Digital Art</span></a></h1>
				<ul id="nav">
					<li class="page_item page-item-27"><a href="index.html"><span>Home</span></a></li>
<li class="page_item page-item-746"><a href="work/index.html"><span>Work</span></a></li>
<li class="page_item page-item-398 current_page_parent"><a href="blog/index.html"><span>Blog</span></a></li>
<li class="page_item page-item-2"><a href="about.html"><span>About</span></a></li>
				</ul>
			</div>
			
						
					</div><div class="body" id="single">
	<div class="neck">
	</div>
		<div class="post">
		<div class="meta">
		  <div class="metacontent">
  			<h2><a href="index.html%3Fp=1726.html">Processing: Saving Sequential Images</a></h2>
  			<div>
  				<p class="date">08-24-09</p>
  				<p class="tags">Tagged: <a href="tag/generative/index.html" rel="tag">generative</a>, <a href="tag/image.html" rel="tag">image</a>, <a href="tag/noise.html" rel="tag">noise</a>, <a href="tag/processing/index.html" rel="tag">processing</a>, <a href="tag/rendering.html" rel="tag">rendering</a><br /></p>
  				  			</div>
  						</div>
		</div>
		<div class="content">
			<p>Until recently I&#8217;ve just been saving all of my images out of <a href="http://www.processing.org">Processing</a> using a simple <a href="http://www.processing.org/reference/saveFrame_.html">saveFrame</a> command and throwing all of my images into one giant folder. Looking into this folder I see a few key problems. I&#8217;ve come up with a little system to help me keep better track of renderings of my generative works. Unfortunately it won&#8217;t work retroactively, but it&#8217;ll be useful for future work, and perhaps it can be helpful to some other Processors.</p>
<p>This very adding this very simple snipped to a <a href="http://www.processing.org">Processing</a> sketch will save out an png of the render window whenever the &#8216;s&#8217; key is pressed. #### will be replaced by the current frame number.</p>
<div class="code processing">
<pre><span Class="KEY">void</span> <span Class="KEY">keyPressed</span>() {
  <span Class="KEY">if</span> (<span Class="KEY">key</span>==<span Class="STR">'s'</span>) {
    <span Class="KEY">saveFrame</span>(<span Class="STR">&quot;name_of_sketch-####.png&quot;</span>);
  }
}</pre>
</div>
<p>This works out pretty nicely, but if you run the sketch twice and just happen to press &#8216;s&#8217; on the same frame the first image will be overwritten. Another issue, which might not seem to bad until you have a huge library of images built up, is the order of the files. If the sketch is run many times, all the saved images will be mixed together. Ideally images saved from one run of the sketch should be named sequentially so all the images from one run can be seen together.</p>
<p>Adding an arbitrary value to the particular run and sticking it into the file name fixes these two issues. Many of my scripts include a function to reset the program so it can be run a few times without being completely restarted. In this case, incrementing this arbitrary global value maintains the order of a set of runs.</p>
<div class="code processing">
<pre><span Class="KEY">int</span> G;

<span Class="KEY">void</span> <span Class="KEY">setup</span>() {
  G=<span Class="KEY">floor</span>(<span Class="KEY">random</span>(10000,90000));
  <span Class="COM">//noiseSeed(G);
</span>
}

<span Class="KEY">void</span> <span Class="KEY">draw</span>() {
}

<span Class="KEY">void</span> <span Class="KEY">keyPressed</span>() {
  <span Class="KEY">if</span> (<span Class="KEY">key</span>==<span Class="STR">'s'</span>) {
    <span Class="KEY">saveFrame</span>(<span Class="STR">&quot;name_of_sketch-&quot;</span>+G+<span Class="STR">&quot;-####.png&quot;</span>);
  } <span Class="KEY">else</span>
  <span Class="KEY">if</span> (<span Class="KEY">keyCode</span>==BACKSPACE || <span Class="KEY">keyCode</span>==DELETE) {
    <span Class="COM">// code to reset script
</span>    G++;
  }
}</pre>
</div>
<p>This system isn&#8217;t perfect, but is a vast organizational improvement for just a few extra lines of code</p>
<p>Another useful trick, if you have a script which utilizes a lot of <a href="http://www.processing.org/reference/noise_.html">Perlin Noise</a>, is the set the <a href="http://www.processing.org/reference/noiseSeed_.html">noiseSeed</a> to a random integer (like G in the script above), and include that in the file name. This way, if you want to rerun the script with the same parameters later, you can always set G to the integer in the file name of a particular saved image.</p>
		</div>
				<br class="clear" />
	</div>
		
	<div id="comments">
		
			<h3><span>5 comments</span></h3>
		
				
		<ul id="commentlist">
				<li class="comment even thread-even depth-1">
		<div class="commentmeta">
			<h5><a href="http://www.flickr.com/photos/eskimoblood/">Andreas Köberle</a></h5>
			<div class="date">08.25.09</div>
			<div class="reply">
							</div>
		</div>

		<div class="commentbody">
						<p>I use the timestamp to get unique filenames:</p>
<p>Date dt = new Date();<br />
SimpleDateFormat df = new SimpleDateFormat(&#8220;yyyy-MM-dd HH:mm:ss.S&#8221;);<br />
saveFrame(&#8220;name_of_sketch-&#8221;+df.format(dt)+&#8221;.png&#8221;);</p>
		</div>
		<br class="clear" />

	</li>
	<li class="comment byuser comment-author-admin bypostauthor odd alt thread-odd thread-alt depth-1">
		<div class="commentmeta">
			<h5><a href="http://www.anthonymattox.com">tony</a></h5>
			<div class="date">08.25.09</div>
			<div class="reply">
							</div>
		</div>

		<div class="commentbody">
						<p>Hey, that&#8217;s a great idea.</p>
<p>Thanks!</p>
		</div>
		<br class="clear" />

	</li>
	<li class="comment even thread-even depth-1">
		<div class="commentmeta">
			<h5><a href="http://xuv.be">Juego</a></h5>
			<div class="date">08.26.09</div>
			<div class="reply">
							</div>
		</div>

		<div class="commentbody">
						<p>I also use a timestamp but with Processing code only (as SimpleDateFormat  is more Java. Thanks for the tip.). So for those not yet comfortable with Java:</p>
<p>saveFrame(&#8220;&#8221;name_of_sketch-&#8221;+year()+month()+day()+hour()+minute()+second());</p>
		</div>
		<br class="clear" />

	</li>
	<li class="comment odd alt thread-odd thread-alt depth-1">
		<div class="commentmeta">
			<h5><a href="http://xuv.be">Juego</a></h5>
			<div class="date">08.26.09</div>
			<div class="reply">
							</div>
		</div>

		<div class="commentbody">
						<p>Oops. (forgot the file extension). </p>
<p>saveFrame(”&#8221;name_of_sketch-”+year()+month()+day()+hour()+minute()+second()+&#8221;.png&#8221;);</p>
		</div>
		<br class="clear" />

	</li>
	<li class="comment even thread-even depth-1">
		<div class="commentmeta">
			<h5><a href="http://bernhardhaeussner.de/">Bernhard H.</a></h5>
			<div class="date">09.02.09</div>
			<div class="reply">
							</div>
		</div>

		<div class="commentbody">
						<p>I&#8217;m saving the run number in a file:</p>
<div class="code processing">
<pre><span Class="KEY">int</span> runNo;
<span Class="KEY">void</span> loadRunNo() {
  <span Class="KEY">byte</span> loadedRunNo[] = <span Class="KEY">loadBytes</span>(”runNo.dat”);
  runNo=(loadedRunNo[0] &lt;&lt; 24)
    + ((loadedRunNo[1] &#038; 0xFF) &lt;&lt; 16)
    + ((loadedRunNo[2] &#038; 0xFF) &lt;&gt;&gt; 24),
  (<span Class="KEY">byte</span>)(runNo &gt;&gt;&gt; 16),
  (<span Class="KEY">byte</span>)(runNo &gt;&gt;&gt; 8),
  (<span Class="KEY">byte</span>)runNo};
  <span Class="KEY">saveBytes</span>(”runNo.dat”, toSaveRunNo);
  <span Class="KEY">println</span>(”run #”+runNo);
}

DecimalFormat df5E = <span Class="KEY">new</span> DecimalFormat(”00000?);
<span Class="KEY">void</span> <span Class="KEY">keyPressed</span>() {
  <span Class="KEY">if</span>(<span Class="KEY">key</span> == ’s’ ){
    <span Class="KEY">saveFrame</span>(”shots/sketchname-run-”+df5E.format(runNo)+”-shot-######.png”);
  }
}</pre>
</div>
<p>and in setup():<br />
loadRunNo();</p>
		</div>
		<br class="clear" />

	</li>
		</ul>
		
			
	</div>	</div>
    <div id="foot">
      <div id="footcontent">
        <div id="cc">
          <a href="http://creativecommons.org/licenses/by-nc/3.0/"></a>
        </div>
        <div id="links">
          <a href="http://twitter.com/ahmattox" id="foot-twitter">@ahmattox</a>
          <a href="http://friendsoftheweb.com/" id="foot-ftw">Friends of The Web</a>
          <a href="http://madewithloveinbaltimore.org" id="foot-heart">Made with &hearts; in Baltimore</a>
        </div>
        <br class="clear" />
      </div>
    </div>
  </div><!-- / container -->
  </body>
</html>